{% extends '_layout/layout.html.twig' %}

{% set pagePreTitle = 'Mannschaft' %}
{% set pageTitle = team.name %}

{%- block pageTitleActionsButtons -%}
    <div class="btn btn-link btn-icon text-instagram">
        <span class="iconify icon" data-icon="fa6-brands:instagram"></span>
    </div>
    <div class="btn btn-link btn-icon text-facebook">
        <span class="iconify icon" data-icon="fa6-brands:facebook"></span>
    </div>
{%- endblock -%}

{% block pageSubBody %}
    <div class="row">
        <div class="col-3">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Links</h3>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action">Aktueller Spieltag</a>
                    <a href="#" class="list-group-item list-group-item-action">Trainingszeiten</a>
                    <a href="#" class="list-group-item list-group-item-action">Facebook</a>
                    <a href="#" class="list-group-item list-group-item-action">Instagram</a>
                </div>
            </div>
        </div>
        <div class="col-9">
            <div class="space-y">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title">2022/2023</h5>
                    </div>
                    {% if team.image is not null %}
                        <div class="card-img-bottom">
                            <img src="{{ team.image.filePath|imagine_filter('team_image') }}"/>
                        </div>
                    {% endif %}
                </div>

                {% if team.players|length > 0 %}
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">Kader</h5>
                        </div>
                        <table class="table card-table table-vcenter text-nowrap">
                            <thead>
                            <tr>
                                <th>Nr.</th>
                                <th>Name</th>
                                <th>Position</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for player in team.players %}
                                <tr>
                                    <td>{{ player.number }}</td>
                                    <td>{{ player.person }}</td>
                                    <td>{{ player.position is null ? '' : player.position.value }}</td>
                                    <td class="text-end">
                                        <div class="btn btn-sm btn-icon btn-link text-instagram">
                                            <span class="iconify icon" data-icon="fa6-brands:instagram"></span>
                                        </div>
                                        <div class="btn btn-sm btn-icon btn-link text-facebook">
                                            <span class="iconify icon" data-icon="fa6-brands:facebook"></span>
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% endif %}

                {% if team.staffs|length > 0 %}
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">Trainerstab</h5>
                        </div>
                        <table class="table card-table table-vcenter text-nowrap">
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Funktion</th>
                                <th>E-Mail</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for staff in team.staffs %}
                                <tr>
                                    <td>{{ staff.person }}</td>
                                    <td>{{ staff.position is null ? '' : staff.position.value }}</td>
                                    <td>
                                        {% if staff.person.emailAddress is not null %}
                                            <a href="mailto:{{ staff.person.emailAddress }}">{{ staff.person.emailAddress }}</a>
                                        {% endif %}
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
